<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Skywriter/ACE jstut integration test</title>
<!--
-->
    <script type="text/javascript">
      var console;
      if (!console)
        console = {
          log: function() {},
          error: function() {},
          info: function() {},
          warn: function() {},
      };
      function dump(aMsgWithNewline) {
        console.log(aMsgWithNewline.replace("\n", "", "g"));
      }
    </script>
<!--
    <script type="text/javascript" src="../../requirejs/require.js"></script>
-->
<script type="text/javascript" src="/cjs/ace/demo/require.js"></script>
  <script>
    require(
      {
        baseUrl: "../../",
        // jstut stuff
        paths: {
          "jstut": "narscribblus/lib/jstut",
          //"require": "requirejs/require",
          "requirejs": "requirejs/build/convert/commonjs",
          "narscribblus": "narscribblus/lib/narscribblus",
          "narscribblus-plat": "narscribblus/lib-requirejs/narscribblus-plat",
          "wmsy": "wmsy/lib/wmsy/",
        },
        packages: [
          // skywriter (or rather ace) stuff, which we are leaving under ace
          { name: "ace", location: "ace", lib: "lib/ace"},
          { name: "cockpit", location: "ace/support/cockpit",
            lib: "lib/cockpit",
            main: "index" },
          { name: "pilot", location: "ace/support/cockpit/support/pilot",
            lib: "lib/pilot", main: "index" },
        ],
      },
      ["requirejs/global-es5", "narscribblus-plat/skywriter-loader"],
      function(es5, $skyLoader) {
        $skyLoader.makeEditor(document.getElementById("editor"),
                              document.getElementById("jssrc").textContent);
      }
    );
  </script>
  </head>
<body id="body">
<pre id="jssrc" style="display:none;">
var wmsy = require("wmsy/wmsy");
var wy = new wmsy.WmsyDomain({id: exampleName, domain: exampleName,
                                clickToFocus: true});
wy.defineWidget({
  name: "person",
  constraint: {
    type: "person",
  },
  popups: {
    popupName: {
      constraint: {
      },
      clickAway: true,
      position: {
      },
    },
  },
});
</pre>
  <div id="editor" style="height: 600px; width: 100%;">
  </div>
</body>
</html>
